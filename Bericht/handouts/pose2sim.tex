%Einfügen der Header-Dateien
\input{header/settings.tex}

% Start des Dokuments
\begin{document}
\setcounter{chapter}{0}
\renewcommand{\thesection}{\arabic{section}} % Sections nur arabisch nummerieren
\newpage
\begin{center}
	{\LARGE \textbf{Handout: Pose2Sim-Pipeline}}\\[0.5cm]
\end{center}

\section{Aufnahme vorbereiten}
\begin{itemize}
	\item L-Setup: zwei Kameras, jede Extremitaet von beiden zumindest kurz sichtbar.
	\item Kamerastand nach Kalibrierung nicht verschieben (auch nicht \approx 1 mm).
	\item VFR abschalten (Smartphone: 1080p/30fps CFR; Open Camera Android, Pro-Video iOS).
	\item Helle Beleuchtung; Kleidung mit Kontrast; enganliegend.
	\item Sync-Check: Klatsch/LED-Blitz zu Beginn markieren.
\end{itemize}

\section{Kalibrierung}
\textbf{Checkerboard:} Ungleiche Seiten (z.B. 9x7). Config.toml: innere Ecken [8, 6] bei intrinsics und extrinsics.

\subsection{Intrinsik}
\begin{itemize}
	\item Board auf starre Unterlage kleben.
	\item Langsam fahren (Fehler < 0.5 px); Bewegungsunschärfe vermeiden.
	\item Links/rechts und verschiedene Winkel; keine schnellen Schwenks.
\end{itemize}

\subsection{Extrinsik}
\begin{itemize}
	\item PVC-Board 2 Sekunden, vollständig sichtbar, nicht diagonal.
	\item Punkte nach Berechnung: Nummerierung in allen Perspektiven konsistent prüfen.
	\item Kamera verschoben nach Extrinsik? → Extrinsik neu; Intrinsik nur bei Kamera/Linsen-Wechsel neu.
\end{itemize}

\section{Haeufige Fehlerquellen}
\begin{itemize}
	\item Schlechte Beleuchtung, dunkle Kleidung, geringer Kontrast.
	\item Zu schnelle Bewegungen / Bewegungsunschärfe.
	\item Extrinsik: Board diagonal oder nur teilweise sichtbar; manuelle Punktwahl.
	\item Hoher Kalibrierfehler ignoriert.
	\item Proband teilweise außerhalb Bildausschnitt; Personen kreuzen und verdecken sich.
	\item Falsche \texttt{frame\_rate} in Config.toml.
\end{itemize}

\section{Ausführungsschritte}
\textbf{Setup:} Ordner mit Videos, \texttt{Config.toml}, \texttt{pose2sim\_cli.py} bereit. Installation siehe Hauptbericht und \url{https://github.com/perfanalytics/pose2sim}.

\begin{enumerate}
	\item \texttt{cd path/to/your/directory}
	\item \texttt{conda activate pose2sim}
	\item \texttt{python pose2sim\_cli.py -c} (Kalibrierung prüfen: Fehler < 0.5 px, Punkte korrekt)
	\item \texttt{python pose2sim\_cli.py} (vollständige Pipeline)
	\item \texttt{python pose2sim\_cli.py -h} (alle Flags anzeigen)
\end{enumerate}

\textbf{Output:} \texttt{kinematics/} enthält \texttt{.sto}, \texttt{.osim}, \texttt{.mot}.

\section{Config.toml: Wichtigste Parameter}
\begin{itemize}
	\item \texttt{[project] frame\_rate}: \texttt{auto} oder exakte Frequenz.
	\item \texttt{[project] frame\_range}: \texttt{all}.
	\item \texttt{[pose] mode}: \texttt{performance}; \texttt{tracking\_mode}: \texttt{sport2d}.
	\item \texttt{[synchronization] synchronization\_gui}: \texttt{false} (OBS+Source Record) oder \texttt{true} + Klatschen (manuell).
	\item \texttt{[calibration] type}: \texttt{calculate}; \texttt{method}: \texttt{board}.
\end{itemize}

\end{document}
